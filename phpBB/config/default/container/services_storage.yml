services:
# ----- Storage controller -----
    phpbb.storage.controller.file:
        class: phpbb\storage\controller\file
        arguments:
            - '@config'
            - '@service_container'
            - '@db'
            - '%tables.attachments%'

# ----- Storage adapters -----
    storage.adapter.local.attachment:
        class: phpbb\storage\adapter\local
        arguments:
            - '@config'
            - '@filesystem'
            - '%core.root_path%'
            - 'upload_path'

    storage.adapter.local.avatar:
        class: phpbb\storage\adapter\local
        arguments:
            - '@config'
            - '@filesystem'
            - '%core.root_path%'
            - 'avatar_path'

# ----- Storages -----
    storage.attachment:
        class: phpbb\storage\storage
        arguments:
            - '@storage.adapter.local.attachment'

    storage.avatar:
        class: phpbb\storage\storage
        arguments:
             - '@storage.adapter.local.avatar'
